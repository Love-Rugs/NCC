---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";

const teams = (await getCollection("teams")).sort((a, b) => a.data.yearGroup.localeCompare(b.data.yearGroup));
---

<BaseLayout title="Teams | North Calder Colts" description="Coach-managed hubs for each North Calder Colts year group.">
  <section class="section reveal">
    <h1>Team Hubs</h1>
    <p class="lead">Each team page includes age-group news, dedicated calendar sync, and social updates.</p>
    <div class="grid two">
      {
        teams.map((team) => (
          <article class="card card-feature reveal">
            <span class={`badge ${team.data.status}`}>{team.data.status}</span>
            <h2>{team.data.yearGroup}</h2>
            <p>{team.data.intro}</p>
            <ul class="inline-list muted">
              <li>{team.data.trainingDay}</li>
              <li>{team.data.trainingTime}</li>
            </ul>
            <a href={`/teams/${team.slug}`}>Open Team Hub</a>
          </article>
        ))
      }
    </div>
  </section>
</BaseLayout>
